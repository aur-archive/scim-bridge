--- a/agent/scim-bridge-agent-application.cpp	2009-01-17 18:04:20.000000000 +0100
+++ b/agent/scim-bridge-agent-application.cpp	2009-05-12 23:48:22.495365439 +0200
@@ -65,7 +65,7 @@
     unsigned int tmp_uint;
 
     int option = 0;
-    while (option != EOF) {
+    while (option != -1) {
         option = getopt_long (argc, argv, short_options, long_options, NULL);
         switch (option) {
             case 'v':
